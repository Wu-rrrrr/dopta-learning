mdp
const int BOUND = 20;
module gridworld_mini
  x : [0..1] init 0;
  y : [0..1] init 0;
  output : [1..3] init 1;
  [North] (x=0) & (y=0) -> (x'=0) & (y'=0) & (output'=3);
  [South] (x=0) & (y=0) -> 0.80 : (x'=0) & (y'=1) & (output'=2) + 0.20 : (x'=1) & (y'=1) & (output'=2);
  [West] (x=0) & (y=0) -> (x'=0) & (y'=0) & (output'=3);
  [East] (x=0) & (y=0) -> 0.80 : (x'=1) & (y'=0) & (output'=2) + 0.20 : (x'=1) & (y'=1) & (output'=2);

  [North] (x=0) & (y=1) -> (x'=0) & (y'=0) & (output'=1);
  [South] (x=0) & (y=1) -> (x'=0) & (y'=1) & (output'=3);
  [West] (x=0) & (y=1) -> (x'=0) & (y'=1) & (output'=3);
  [East] (x=0) & (y=1) -> 0.80 : (x'=1) & (y'=1) & (output'=2) + 0.20 : (x'=1) & (y'=0) & (output'=2);

  [North] (x=1) & (y=0) -> (x'=1) & (y'=0) & (output'=3);
  [South] (x=1) & (y=0) -> 0.80 : (x'=1) & (y'=1) & (output'=2) + 0.20 : (x'=0) & (y'=1) & (output'=2);
  [West] (x=1) & (y=0) -> (x'=0) & (y'=0) & (output'=1);
  [East] (x=1) & (y=0) -> (x'=1) & (y'=0) & (output'=3);

  [North] (x=1) & (y=1) -> 0.80 : (x'=1) & (y'=0) & (output'=2) + 0.20 : (x'=0) & (y'=0) & (output'=1);
  [South] (x=1) & (y=1) -> (x'=1) & (y'=1) & (output'=3);
  [West] (x=1) & (y=1) -> 0.80 : (x'=0) & (y'=1) & (output'=2) + 0.20 : (x'=0) & (y'=0) & (output'=1);
  [East] (x=1) & (y=1) -> (x'=1) & (y'=1) & (output'=3);

endmodule
module StepCounter
  steps : [0..BOUND] init 0; 
  [North] true -> (steps'=min(BOUND,steps + 1));
  [South] true -> (steps'=min(BOUND,steps + 1));
  [West] true -> (steps'=min(BOUND,steps + 1));
  [East] true -> (steps'=min(BOUND,steps + 1));
endmodule
label "concrete" = output=1;
label "grass" = output=2;
label "wall" = output=3;
label "goal" = x=1 & y=1;

